<img src="/assets/images/logo-with-text.png" class="logo-image">

<h2>Password Reset</h2>
{{#if checkParams }}
  <form {{action updatePassword on="submit"}}>
    <div class="input-wrapper">
      {{input placeholder="Password" type="password" value=password}}
      {{input placeholder="Confirm Password" type="password" value=password_confirmation}}
    </div>

    {{#if errorMessage}}
      <div class="error-message">
        {{errorMessage}}
      </div>
    {{/if}}

    <div class="form-footer">
      {{#loading-spinner message=loadingText isLoading=isResetting}}
        <button class='submit {{unless submittable 'disabled'}}' type="submit">Update Password</button>
      {{/loading-spinner}}
    </div>
  </form>
{{else}}
  <form {{action requestResetPassword on="submit"}}>
    <div class="input-wrapper">
      <img src="/assets/images/mail.svg" alt="An envelope.">
      {{input placeholder="Email" type="email" value=username}}
    </div>

    {{#if errorMessage}}
      <div class="error-message">
        {{errorMessage}}
      </div>
    {{/if}}

    <div class="form-footer">
      {{#loading-spinner message=loadingText isLoading=isResetting}}
        <button class='submit {{unless submittable 'disabled'}}' type="submit">Reset Password</button>
      {{/loading-spinner}}
    </div>
  </form>
{{/if}}

<div class="auth-switch">
  <div>
    Already know your password?
    {{link-to 'Login here' (query-params panel=null)}}
  </div>

  <div>
    Don't have an account?
    {{link-to 'Signup here' (query-params panel='signup')}}
  </div>
</div>


